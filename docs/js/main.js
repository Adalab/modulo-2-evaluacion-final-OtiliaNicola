const d=document.querySelector(".js_input_text"),h=document.querySelector(".js_search"),k=document.querySelector(".js_reset"),r=document.querySelector(".js_list"),a=document.querySelector(".js_favourites");function u(e){const t=document.createElement("li");t.classList.add("section__all--licoc"),t.setAttribute("id",e.idDrink),t.dataset.cocktailId=e.idDrink,a.appendChild(t);const n=document.createElement("img");n.classList.add("small-img"),n.src=e.strDrinkThumb,n.setAttribute("alt",e.strDrinkThumb),t.appendChild(n);const c=document.createElement("h3");c.textContent=e.strDrink,t.appendChild(c);const o=document.createElement("button");o.textContent="x",o.classList.add("remove-button"),o.addEventListener("click",()=>p(t)),t.appendChild(o);let s=JSON.parse(localStorage.getItem("cocktails"));console.log(s),s===null&&(s=[]),s.push({idDrink:e.idDrink,strDrink:e.strDrink,strDrinkThumb:e.strDrinkThumb}),localStorage.setItem("cocktails",JSON.stringify(s))}function p(e){const t=e.dataset.cocktailId;let n=JSON.parse(localStorage.getItem("cocktails"));console.log(n),n=n.filter(c=>c.idDrink!==t),localStorage.setItem("cocktails",JSON.stringify(n)),a.removeChild(e)}function g(e,t){e.addEventListener("click",n=>{const c=n.currentTarget.dataset.cocktailId,o=t.find(s=>s.strDrink===c);u(o)})}function m(e){r.innerHTML="";const t=e.drinks;for(const n of t){const c=n.strDrink,o=n.strDrinkThumb,s=document.createElement("li");s.classList.add("section__all--licoc"),s.setAttribute("id",n.idDrink),s.dataset.cocktailId=n.strDrink,r.appendChild(s);const l=document.createElement("h3");l.textContent=c,s.appendChild(l);const i=document.createElement("img");i.classList.add("small-img"),s.classList.add("img"),i.src=o,i.setAttribute("alt",c),s.appendChild(i),g(s,t)}}function f(e){e.preventDefault();const t=d.value;D(t)}function v(e){e.preventDefault(),d.value="",r.innerHTML="",a.innerHTML="",localStorage.removeItem("cocktails")}function D(e){const t=`https://www.thecocktaildb.com/api/json/v1/1/search.php?s=${e}`;fetch(t).then(n=>n.json()).then(n=>m(n)).catch(n=>console.log(n))}function S(){fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?s=margarita").then(t=>t.json()).then(t=>m(t)).catch(t=>console.log(t))}S();function b(){const e=JSON.parse(localStorage.getItem("cocktails"));e&&e.length>0&&e.forEach(t=>{console.log(t),u(t)})}b();h.addEventListener("click",f);k.addEventListener("click",v);
//# sourceMappingURL=main.js.map
