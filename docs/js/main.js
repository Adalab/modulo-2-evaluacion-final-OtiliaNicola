const d=document.querySelector(".js_input_text"),h=document.querySelector(".js_search"),k=document.querySelector(".js_reset"),r=document.querySelector(".js_list"),l=document.querySelector(".js_favourites");function u(t){let e=JSON.parse(localStorage.getItem("cocktails"));if(e==null?void 0:e.some(o=>o.idDrink===t.idDrink))console.log("El cóctel ya está en la lista de favoritos.");else{e===null&&(e=[]),e.push(t);const o=document.createElement("li");o.classList.add("section__all--licoc","fav-cocktail"),o.setAttribute("id",t.idDrink),o.dataset.cocktailId=t.idDrink,l.appendChild(o);const s=document.createElement("img");s.classList.add("small-img"),s.src=t.strDrinkThumb,s.setAttribute("alt",t.strDrinkThumb),o.appendChild(s);const a=document.createElement("h3");a.textContent=t.strDrink,o.appendChild(a);const i=document.createElement("button");i.textContent="x",i.classList.add("remove-button"),i.addEventListener("click",()=>p(o)),o.appendChild(i)}let c=JSON.parse(localStorage.getItem("cocktails"));console.log(c),c===null&&(c=[]),c.push({idDrink:t.idDrink,strDrink:t.strDrink,strDrinkThumb:t.strDrinkThumb}),localStorage.setItem("cocktails",JSON.stringify(c))}function p(t){const e=t.dataset.cocktailId;let n=JSON.parse(localStorage.getItem("cocktails"));console.log(n),n=n.filter(c=>c.idDrink!==e),localStorage.setItem("cocktails",JSON.stringify(n)),l.removeChild(t)}function g(t,e){t.addEventListener("click",n=>{const c=n.currentTarget.dataset.cocktailId,o=e.find(s=>s.strDrink===c);u(o)})}function m(t){r.innerHTML="";const e=t.drinks;for(const n of e){const c=n.strDrink,o=n.strDrinkThumb,s=document.createElement("li");s.classList.add("section__all--licoc"),s.setAttribute("id",n.idDrink),s.dataset.cocktailId=n.strDrink,r.appendChild(s);const a=document.createElement("h3");a.textContent=c,s.appendChild(a);const i=document.createElement("img");i.classList.add("small-img"),s.classList.add("img"),i.src=o,i.setAttribute("alt",c),s.appendChild(i),g(s,e)}}function f(t){t.preventDefault();const e=d.value;D(e)}function v(t){t.preventDefault(),d.value="",r.innerHTML="",l.innerHTML="",localStorage.removeItem("cocktails")}function D(t){const e=`https://www.thecocktaildb.com/api/json/v1/1/search.php?s=${t}`;fetch(e).then(n=>n.json()).then(n=>m(n)).catch(n=>console.log(n))}function S(){fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?s=margarita").then(e=>e.json()).then(e=>m(e)).catch(e=>console.log(e))}S();function b(){const t=JSON.parse(localStorage.getItem("cocktails"));t&&t.length>0&&t.forEach(e=>{console.log(e),u(e)})}b();h.addEventListener("click",f);k.addEventListener("click",v);
//# sourceMappingURL=main.js.map
